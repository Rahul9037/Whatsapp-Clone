{"ast":null,"code":"import _slicedToArray from\"/Users/rahulsmac/Documents/reactapp/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Avatar,IconButton}from'@material-ui/core';import DonutLargeIcon from'@material-ui/icons/DonutLarge';import ChatIcon from'@material-ui/icons/Chat';import MoreVertIcon from'@material-ui/icons/MoreVert';import SearchIcon from'@material-ui/icons/Search';import SidebarChat from'../SidebarChat/SidebarChat';import{useStateValue}from'../../contextAPI/StateProvider';import db from'../../firebase';import'./Sidebar.css';function Sidebar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];useEffect(function(){var unsubscribe=db.collection('rooms').onSnapshot(function(snapShot){setRooms(snapShot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});return function(){unsubscribe();};},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__header\"},/*#__PURE__*/React.createElement(Avatar,{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__headerRight\"},/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(DonutLargeIcon,null)),/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(ChatIcon,null)),/*#__PURE__*/React.createElement(IconButton,null,/*#__PURE__*/React.createElement(MoreVertIcon,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__search\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__searchContainer\"},/*#__PURE__*/React.createElement(SearchIcon,null),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Search or Start a new chat\",type:\"text\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar__chats\"},/*#__PURE__*/React.createElement(SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/React.createElement(SidebarChat,{key:room.id,id:room.id,name:room.data.name});})));}export default Sidebar;","map":{"version":3,"sources":["/Users/rahulsmac/Documents/reactapp/whatsapp-clone/src/components/Sidebar/Sidebar.js"],"names":["React","useState","useEffect","Avatar","IconButton","DonutLargeIcon","ChatIcon","MoreVertIcon","SearchIcon","SidebarChat","useStateValue","db","Sidebar","rooms","setRooms","user","dispatch","unsubscribe","collection","onSnapshot","snapShot","docs","map","doc","id","data","photoURL","room","name"],"mappings":"yKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,OAASC,MAAT,CAAiBC,UAAjB,KAAmC,mBAAnC,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,OAASC,aAAT,KAA8B,gCAA9B,CACA,MAAOC,CAAAA,EAAP,KAAe,gBAAf,CACA,MAAO,eAAP,CAEA,QAASC,CAAAA,OAAT,EAAmB,eAEUX,QAAQ,CAAC,EAAD,CAFlB,wCAERY,KAFQ,eAEFC,QAFE,kCAGaJ,aAAa,EAH1B,kDAGPK,IAHO,oBAGPA,IAHO,CAGCC,QAHD,oBAKfd,SAAS,CAAC,UAAM,CACZ,GAAMe,CAAAA,WAAW,CAAGN,EAAE,CAACO,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAmC,SAAAC,QAAQ,CAAI,CAC/DN,QAAQ,CACJM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAAU,CACxBC,EAAE,CAAGD,GAAG,CAACC,EADe,CAExBC,IAAI,CAAGF,GAAG,CAACE,IAAJ,EAFiB,CAAV,EAAlB,CADI,CAAR,CAMH,CAPmB,CAApB,CASA,MAAO,WAAM,CACTR,WAAW,GACd,CAFD,CAGH,CAbQ,CAaN,EAbM,CAAT,CAcA,mBACI,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,iBAAf,eACI,oBAAC,MAAD,EAAQ,GAAG,CAAEF,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEW,QAAnB,EADJ,cAEI,2BAAK,SAAS,CAAC,sBAAf,eACI,oBAAC,UAAD,mBACI,oBAAC,cAAD,MADJ,CADJ,cAII,oBAAC,UAAD,mBACI,oBAAC,QAAD,MADJ,CAJJ,cAOI,oBAAC,UAAD,mBACI,oBAAC,YAAD,MADJ,CAPJ,CAFJ,CADJ,cAeI,2BAAK,SAAS,CAAC,iBAAf,eACI,2BAAK,SAAS,CAAC,0BAAf,eACI,oBAAC,UAAD,MADJ,cAEI,6BAAO,WAAW,CAAC,4BAAnB,CAAgD,IAAI,CAAC,MAArD,EAFJ,CADJ,CAfJ,cAsBI,2BAAK,SAAS,CAAC,gBAAf,eACI,oBAAC,WAAD,EAAa,UAAU,KAAvB,EADJ,CAEKb,KAAK,CAACS,GAAN,CAAW,SAAAK,IAAI,CAAI,CACjB,mBAAO,oBAAC,WAAD,EAAa,GAAG,CAAEA,IAAI,CAACH,EAAvB,CAA2B,EAAE,CAAEG,IAAI,CAACH,EAApC,CAAwC,IAAI,CAAEG,IAAI,CAACF,IAAL,CAAUG,IAAxD,EAAP,CACF,CAFA,CAFL,CAtBJ,CADJ,CA+BH,CAED,cAAehB,CAAAA,OAAf","sourcesContent":["import React, { useState ,useEffect} from 'react';\nimport { Avatar, IconButton } from '@material-ui/core';\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport SearchIcon from '@material-ui/icons/Search';\nimport SidebarChat from '../SidebarChat/SidebarChat';\nimport { useStateValue } from '../../contextAPI/StateProvider';\nimport db from '../../firebase';\nimport './Sidebar.css';\n\nfunction Sidebar() {\n\n    const [rooms,setRooms] = useState([]);\n    const [{user} , dispatch] = useStateValue();\n\n    useEffect(() => {\n        const unsubscribe = db.collection('rooms').onSnapshot( snapShot => {\n            setRooms(\n                snapShot.docs.map((doc) => ({\n                    id : doc.id,\n                    data : doc.data(),\n                }))\n                )\n        });\n\n        return () => {\n            unsubscribe();\n        }\n    }, [])\n    return (\n        <div className=\"sidebar\">\n            <div className=\"sidebar__header\">\n                <Avatar src={user?.photoURL}/>\n                <div className=\"sidebar__headerRight\">\n                    <IconButton>\n                        <DonutLargeIcon />\n                    </IconButton>\n                    <IconButton>\n                        <ChatIcon />\n                    </IconButton>\n                    <IconButton>\n                        <MoreVertIcon />\n                    </IconButton>\n                </div>\n            </div>\n            <div className=\"sidebar__search\">\n                <div className=\"sidebar__searchContainer\">\n                    <SearchIcon />\n                    <input placeholder=\"Search or Start a new chat\" type=\"text\" />\n                </div>\n\n            </div>\n            <div className=\"sidebar__chats\">\n                <SidebarChat addNewChat/>\n                {rooms.map( room => {\n                   return <SidebarChat key={room.id} id={room.id} name={room.data.name}/>\n                })}\n            </div>\n        </div>\n    );\n}\n\nexport default Sidebar;"]},"metadata":{},"sourceType":"module"}