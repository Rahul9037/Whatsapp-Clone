{"map":{"version":3,"sources":["static/js/main.7a40cff4.chunk.js"],"names":["this","push","55","module","exports","__webpack_require__","p","60","65","66","81","83","84","85","86","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Avatar","IconButton","DonutLarge","DonutLarge_default","Chat","Chat_default","MoreVert","MoreVert_default","Search","Search_default","index_cjs","index_cjs_default","db","a","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","firebase","react_router_dom","components_SidebarChat_SidebarChat","_ref","_messages$","id","name","addNewChat","_useState","Object","_useState2","seed","setSeed","_useState3","_useState4","messages","setMessages","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","createElement","onClick","roomName","prompt","add","className","to","concat","src","message","StateContext","StateProvider_StateProvider","reducer","initialState","children","Provider","value","StateProvider_useStateValue","components_Sidebar_Sidebar","rooms","setRooms","_useStateValue","_useStateValue2","user","unsubscribe","snapShot","photoURL","placeholder","type","room","key","AttachFile","AttachFile_default","EmojiEmotions","EmojiEmotions_default","Mic","Mic_default","react_router","components_Chat_Chat","_messages","_messages$timestamp","input","setInput","setRoomName","roomId","_useState5","_useState6","_useState7","_useState8","Date","length","timestamp","toDate","toUTCString","_message$timestamp","displayName","onChange","e","target","preventDefault","FieldValue","serverTimestamp","objectDestructuringEmpty","Button","objectSpread2","actionTypes","Reducer","state","action","console","log","whatsapplogo","whatsapplogo_default","components_Login_Login","dispatch","alt","width","height","signInWithPopup","then","result","catch","err","alert","src_App","path","Boolean","window","location","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"CAACA,KAAK,8BAAgCA,KAAK,+BAAiC,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEpFC,GACA,SAAUC,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoBC,EAAI,0CAInCC,GACA,SAAUJ,EAAQC,EAASC,GAEjCF,EAAOC,QAAUC,EAAoB,KAK/BG,GACA,SAAUL,EAAQC,EAASC,KAM3BI,GACA,SAAUN,EAAQC,EAASC,KAM3BK,GACA,SAAUP,EAAQC,EAASC,KAM3BM,GACA,SAAUR,EAAQC,EAASC,KAM3BO,GACA,SAAUT,EAAQC,EAASC,KAM3BQ,GACA,SAAUV,EAAQC,EAASC,KAM3BS,GACA,SAAUX,EAAQY,EAAqBV,GAE7C,aAEAA,EAAoBW,EAAED,GAGtB,IAAIE,EAAQZ,EAAoB,GAC5Ba,EAA6Bb,EAAoBc,EAAEF,GAGnDG,EAAYf,EAAoB,IAChCgB,EAAiChB,EAAoBc,EAAEC,GAMvDE,GAHMjB,EAAoB,IAGVA,EAAoB,KAGpCkB,EAASlB,EAAoB,KAG7BmB,EAAanB,EAAoB,IAGjCoB,EAAapB,EAAoB,IACjCqB,EAAkCrB,EAAoBc,EAAEM,GAGxDE,EAAOtB,EAAoB,IAC3BuB,EAA4BvB,EAAoBc,EAAEQ,GAGlDE,EAAWxB,EAAoB,IAC/ByB,EAAgCzB,EAAoBc,EAAEU,GAGtDE,EAAS1B,EAAoB,IAC7B2B,EAA8B3B,EAAoBc,EAAEY,GAMpDE,GAHc5B,EAAoB,IAGtBA,EAAoB,KAChC6B,EAAiC7B,EAAoBc,EAAEc,GAG+XE,EAAtDD,EAAkBE,EAAEC,cAArY,CAACC,OAAO,0CAA0CC,WAAW,uCAAuCC,YAAY,8CAA8CC,UAAU,uBAAuBC,cAAc,mCAAmCC,kBAAkB,eAAeC,MAAM,4CAA4CC,cAAc,iBAAqGC,YAAgBC,EAAKb,EAAkBE,EAAEW,OAAWC,EAAS,IAAId,EAAkBE,EAAEW,KAAKE,mBAAsDC,EAAW,EAEhmBC,EAAmB9C,EAAoB,IAGqoD,IAAI+C,EAAprD,SAAiCC,GAAM,IAAIC,EAAeC,EAAGF,EAAKE,GAAGC,EAAKH,EAAKG,KAAKC,EAAWJ,EAAKI,WAAeC,EAAUC,OAAO1C,EAAgB,SAAvB0C,CAA0B,IAAIC,EAAWD,OAAOrC,EAA+B,EAAtCqC,CAAyCD,EAAU,GAAGG,EAAKD,EAAW,GAAGE,EAAQF,EAAW,GAAOG,EAAWJ,OAAO1C,EAAgB,SAAvB0C,CAA0B,IAAIK,EAAWL,OAAOrC,EAA+B,EAAtCqC,CAAyCI,EAAW,GAAGE,EAASD,EAAW,GAAGE,EAAYF,EAAW,GAA4e,OAAzeL,OAAO1C,EAAiB,UAAxB0C,EAA2B,WAAcJ,GAAIL,EAASiB,WAAW,SAASC,IAAIb,GAAIY,WAAW,YAAYE,QAAQ,YAAY,QAAQC,YAAW,SAASC,GAAU,OAAOL,EAAYK,EAASC,KAAKC,KAAI,SAASL,GAAK,OAAOA,EAAIM,gBAAiB,CAACnB,IAAKI,OAAO1C,EAAiB,UAAxB0C,EAA2B,WAAWG,EAAQa,KAAKC,MAAoB,IAAdD,KAAKE,aAAkB,IAAwKpB,EAAsmBvC,EAAckB,EAAE0C,cAAc,MAAM,CAACC,QAAhyB,WAAsB,IAAIC,EAASC,OAAO,kCAAqCD,GAAU9B,EAASiB,WAAW,SAASe,IAAI,CAAC1B,KAAKwB,KAAmrBG,UAAU,eAA4BjE,EAAckB,EAAE0C,cAAc,KAAK,KAAK,iBAAptB5D,EAAckB,EAAE0C,cAAc3B,EAA+B,EAAE,CAACiC,GAAG,UAAUC,OAAO9B,IAAkBrC,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,eAA4BjE,EAAckB,EAAE0C,cAAcvD,EAAwB,EAAE,CAAC+D,IAAI,0CAA0CD,OAAOxB,EAAK,UAAuB3C,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,qBAAkCjE,EAAckB,EAAE0C,cAAc,KAAK,KAAKtB,GAAmBtC,EAAckB,EAAE0C,cAAc,IAAI,KAAgC,QAA1BxB,EAAWW,EAAS,UAAyB,IAAbX,OAAoB,EAAOA,EAAWiC,aAE99CC,EAAa7B,OAAO1C,EAAqB,cAA5B0C,GAAqC8B,EAA4B,SAAuBpC,GAAM,IAAIqC,EAAQrC,EAAKqC,QAAQC,EAAatC,EAAKsC,aAAaC,EAASvC,EAAKuC,SAAS,OAAmB1E,EAAckB,EAAE0C,cAAcU,EAAaK,SAAS,CAACC,MAAMnC,OAAO1C,EAAkB,WAAzB0C,CAA4B+B,EAAQC,IAAeC,IAAgBG,EAA4B,WAAyB,OAAOpC,OAAO1C,EAAkB,WAAzB0C,CAA4B6B,IAEzZnF,EAAoB,IAGyhE,IAAI2F,EAA/jE,WAA2B,IAAItC,EAAUC,OAAO1C,EAAgB,SAAvB0C,CAA0B,IAAIC,EAAWD,OAAOrC,EAA+B,EAAtCqC,CAAyCD,EAAU,GAAGuC,EAAMrC,EAAW,GAAGsC,EAAStC,EAAW,GAAOuC,EAAeJ,IAA8BK,EAAgBzC,OAAOrC,EAA+B,EAAtCqC,CAAyCwC,EAAe,GAAGE,EAAKD,EAAgB,GAAGC,KAA4Q,OAA9PD,EAAgB,GAAGzC,OAAO1C,EAAiB,UAAxB0C,EAA2B,WAAW,IAAI2C,EAAYpD,EAASiB,WAAW,SAASG,YAAW,SAASiC,GAAUL,EAASK,EAAS/B,KAAKC,KAAI,SAASL,GAAK,MAAM,CAACb,GAAGa,EAAIb,GAAGmB,KAAKN,EAAIM,eAAe,OAAO,WAAW4B,OAAkB,IAAuBpF,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,WAAwBjE,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,mBAAgCjE,EAAckB,EAAE0C,cAAcvD,EAAwB,EAAE,CAAC+D,IAAW,OAAPe,QAAoB,IAAPA,OAAc,EAAOA,EAAKG,WAAwBtF,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,wBAAqCjE,EAAckB,EAAE0C,cAActD,EAA4B,EAAE,KAAkBN,EAAckB,EAAE0C,cAAcpD,EAAmBU,EAAE,OAAoBlB,EAAckB,EAAE0C,cAActD,EAA4B,EAAE,KAAkBN,EAAckB,EAAE0C,cAAclD,EAAaQ,EAAE,OAAoBlB,EAAckB,EAAE0C,cAActD,EAA4B,EAAE,KAAkBN,EAAckB,EAAE0C,cAAchD,EAAiBM,EAAE,SAAsBlB,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,mBAAgCjE,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,4BAAyCjE,EAAckB,EAAE0C,cAAc9C,EAAeI,EAAE,MAAmBlB,EAAckB,EAAE0C,cAAc,QAAQ,CAAC2B,YAAY,6BAA6BC,KAAK,WAAwBxF,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,kBAA+BjE,EAAckB,EAAE0C,cAAc1B,EAAmC,CAACK,YAAW,IAAOwC,EAAMxB,KAAI,SAASkC,GAAM,OAAmBzF,EAAckB,EAAE0C,cAAc1B,EAAmC,CAACwD,IAAID,EAAKpD,GAAGA,GAAGoD,EAAKpD,GAAGC,KAAKmD,EAAKjC,KAAKlB,aAK7gEqD,GAHYxG,EAAoB,IAGnBA,EAAoB,KACjCyG,EAAkCzG,EAAoBc,EAAE0F,GAGxDE,EAAgB1G,EAAoB,IACpC2G,EAAqC3G,EAAoBc,EAAE4F,GAG3DE,EAAM5G,EAAoB,IAC1B6G,EAA2B7G,EAAoBc,EAAE8F,GAGjDE,EAAe9G,EAAoB,GAImgF,IAAI+G,EAD9iF,WAA0B,IAAIC,EAAUC,EAAwB5D,EAAUC,OAAO1C,EAAgB,SAAvB0C,CAA0B,IAAIC,EAAWD,OAAOrC,EAA+B,EAAtCqC,CAAyCD,EAAU,GAAG6D,EAAM3D,EAAW,GAAG4D,EAAS5D,EAAW,GAAOG,EAAWJ,OAAO1C,EAAgB,SAAvB0C,CAA0B,IAAIK,EAAWL,OAAOrC,EAA+B,EAAtCqC,CAAyCI,EAAW,GAAGiB,EAAShB,EAAW,GAAGyD,EAAYzD,EAAW,GAA8D0D,EAA5C/D,OAAOwD,EAAgC,EAAvCxD,GAA8D+D,OAAWC,EAAWhE,OAAO1C,EAAgB,SAAvB0C,CAA0B,IAAIiE,EAAWjE,OAAOrC,EAA+B,EAAtCqC,CAAyCgE,EAAW,GAAG9D,EAAK+D,EAAW,GAAG9D,EAAQ8D,EAAW,GAAOC,EAAWlE,OAAO1C,EAAgB,SAAvB0C,CAA0B,IAAImE,EAAWnE,OAAOrC,EAA+B,EAAtCqC,CAAyCkE,EAAW,GAAG5D,EAAS6D,EAAW,GAAG5D,EAAY4D,EAAW,GAAO3B,EAAeJ,IAA8BK,EAAgBzC,OAAOrC,EAA+B,EAAtCqC,CAAyCwC,EAAe,GAAGE,EAAKD,EAAgB,GAAGC,KACrtB,OADmuBD,EAAgB,GAAGzC,OAAO1C,EAAiB,UAAxB0C,EAA2B,WAAWG,EAAQa,KAAKC,MAAoB,IAAdD,KAAKE,aAAkB,CAAC6C,IAAS/D,OAAO1C,EAAiB,UAAxB0C,EAA2B,WAAc+D,IAAQxE,EAASiB,WAAW,SAASC,IAAIsD,GAAQpD,YAAW,SAASiC,GAAU,OAAOkB,EAAYlB,EAAS7B,OAAOlB,SAASN,EAASiB,WAAW,SAASC,IAAIsD,GAAQvD,WAAW,YAAYE,QAAQ,YAAY,OAAOC,YAAW,SAASiC,GAAU,OAAOrC,EAAYqC,EAAS/B,KAAKC,KAAI,SAASL,GAAK,OAAOA,EAAIM,iBAAiB,CAACgD,IAC1qCxG,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,QAAqBjE,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,gBAA6BjE,EAAckB,EAAE0C,cAAcvD,EAAwB,EAAE,CAAC+D,IAAI,0CAA0CD,OAAOxB,EAAK,UAAuB3C,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,oBAAiCjE,EAAckB,EAAE0C,cAAc,KAAK,KAAKE,GAAuB9D,EAAckB,EAAE0C,cAAc,IAAI,KAAK,kBAAkB,IAAI,IAAIiD,KAA+C,QAAzCV,EAAUpD,EAASA,EAAS+D,OAAO,UAAwB,IAAZX,GAAsE,QAA3CC,EAAoBD,EAAUY,iBAAyC,IAAtBX,OAAzD,EAA6FA,EAAoBY,UAAUC,gBAA6BjH,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,oBAAiCjE,EAAckB,EAAE0C,cAActD,EAA4B,EAAE,KAAkBN,EAAckB,EAAE0C,cAAc9C,EAAeI,EAAE,OAAoBlB,EAAckB,EAAE0C,cAActD,EAA4B,EAAE,KAAkBN,EAAckB,EAAE0C,cAAcgC,EAAmB1E,EAAE,OAAoBlB,EAAckB,EAAE0C,cAActD,EAA4B,EAAE,KAAkBN,EAAckB,EAAE0C,cAAchD,EAAiBM,EAAE,SAAsBlB,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,cAAclB,EAASQ,KAAI,SAASc,GAAS,IAAI6C,EAAmB,OAAmBlH,EAAckB,EAAE0C,cAAc,IAAI,CAACK,UAAU,iBAAiBE,OAAOE,EAAQ/B,OAAO6C,EAAKgC,aAAa,mBAAgCnH,EAAckB,EAAE0C,cAAc,OAAO,CAACK,UAAU,cAAcI,EAAQ/B,MAAM+B,EAAQA,QAAqBrE,EAAckB,EAAE0C,cAAc,OAAO,CAACK,UAAU,mBAAmB,IAAI4C,KAA8C,QAAxCK,EAAmB7C,EAAQ0C,iBAAwC,IAArBG,OAA4B,EAAOA,EAAmBF,UAAUC,oBAAiCjH,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,gBAA6BjE,EAAckB,EAAE0C,cAAckC,EAAsB5E,EAAE,MAAmBlB,EAAckB,EAAE0C,cAAc,OAAO,KAAkB5D,EAAckB,EAAE0C,cAAc,QAAQ,CAACwD,SAAS,SAAkBC,GAAG,OAAOf,EAASe,EAAEC,OAAO1C,QAASW,YAAY,iBAAiBC,KAAK,OAAOZ,MAAMyB,IAAqBrG,EAAckB,EAAE0C,cAAc,SAAS,CAAC4B,KAAK,SAAS3B,QADhhC,SAAqBwD,GAAGA,EAAEE,iBAC/6CvF,EAASiB,WAAW,SAASC,IAAIsD,GAAQvD,WAAW,YAAYe,IAAI,CAACK,QAAQgC,EAAM/D,KAAK6C,EAAKgC,YAAYJ,UAAU/F,EAAkBE,EAAEU,UAAU4F,WAAWC,oBAAoBnB,EAAS,MAAiwE,iBAA8BtG,EAAckB,EAAE0C,cAAcoC,EAAY9E,EAAE,SAEhgFwG,EAA2BvI,EAAoB,IAG/CwI,EAASxI,EAAoB,IAM7ByI,GAHQzI,EAAoB,IAGZA,EAAoB,KAGC0I,EAAsB,WAAoTC,EAApR,SAAiBC,EAAMC,GAA4B,OAApBC,QAAQC,IAAIF,GAAeA,EAAOxC,MAAM,KAAKqC,EAAqB,OAAOpF,OAAOmF,EAA+B,EAAtCnF,CAAyCA,OAAOmF,EAA+B,EAAtCnF,CAAyC,GAAGsF,GAAO,GAAG,CAAC5C,KAAK6C,EAAO7C,OAAO,QAAQ,OAAO4C,IAErUI,EAAehJ,EAAoB,IACnCiJ,EAAoCjJ,EAAoBc,EAAEkI,GAG86B,IAAIE,EAAh/B,WAAuB,IAAIpD,EAAeJ,IAA8BK,EAAgBzC,OAAOrC,EAA+B,EAAtCqC,CAAyCwC,EAAe,GAAGxC,OAAOiF,EAA0C,EAAjDjF,CAAoDyC,EAAgB,IAAI,IAAIoD,EAASpD,EAAgB,GAAkM,OAAmBlF,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,UAAuBjE,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,oBAAiCjE,EAAckB,EAAE0C,cAAc,MAAM,CAACQ,IAAIgE,EAAqBlH,EAAEqH,IAAI,GAAGC,MAAM,QAAQC,OAAO,UAAuBzI,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,eAA4BjE,EAAckB,EAAE0C,cAAc,KAAK,KAAK,uBAAoC5D,EAAckB,EAAE0C,cAAc+D,EAAwB,EAAE,CAAC9D,QAAhqB,WAAkBhC,EAAK6G,gBAAgB5G,GAAU6G,MAAK,SAASC,GAAQN,EAAS,CAAC9C,KAAKqC,EAAqB1C,KAAKyD,EAAOzD,UAAU0D,OAAM,SAASC,GAAK,OAAOC,MAAMD,EAAIzE,cAA0gB,yBAE56BlF,EAAoB,IAI+mB,IAAI6J,EADjpB,WAAmB,IAAI/D,EAAeJ,IAA8BK,EAAgBzC,OAAOrC,EAA+B,EAAtCqC,CAAyCwC,EAAe,GAAGE,EAAKD,EAAgB,GAAGC,KAAiC,OAAnBD,EAAgB,GACrMlF,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,OAAQkB,EAA0FnF,EAAckB,EAAE0C,cAAc,MAAM,CAACK,UAAU,aAA0BjE,EAAckB,EAAE0C,cAAc3B,EAAwC,EAAE,KAAkBjC,EAAckB,EAAE0C,cAAckB,EAA2B,MAAmB9E,EAAckB,EAAE0C,cAAcqC,EAA6B,EAAE,KAAkBjG,EAAckB,EAAE0C,cAAcqC,EAA4B,EAAE,CAACgD,KAAK,kBAA+BjJ,EAAckB,EAAE0C,cAAcsC,EAAqB,UAA1hBlG,EAAckB,EAAE0C,cAAcyE,EAAuB,QAW9Ga,QAAmC,cAA3BC,OAAOC,SAASC,UACb,UAA3BF,OAAOC,SAASC,UAChBF,OAAOC,SAASC,SAASC,MAAM,2DAsB/BnJ,EAAkBe,EAAEqI,OAAoBvJ,EAAckB,EAAE0C,cAAc5D,EAAckB,EAAEsI,WAAW,KAAkBxJ,EAAckB,EAAE0C,cAAcW,EAA4B,CAACE,aA/CrJ,CAACU,KAAK,MA+CiLX,QAAQsD,GAAsB9H,EAAckB,EAAE0C,cAAcoF,EAAQ,QAAQS,SAASC,eAAe,SAFvJ,kBAAkBC,WAAWA,UAAUC,cAAcC,MAAMlB,MAAK,SAASmB,GAAcA,EAAaC,gBAAgBlB,OAAM,SAASmB,GAAO/B,QAAQ+B,MAAMA,EAAM3F,cASzT,CAAC,CAAC,GAAG,EAAE"},"code":"(this[\"webpackJsonpwhatsapp-clone\"]=this[\"webpackJsonpwhatsapp-clone\"]||[]).push([[0],{55:function(e,a,t){e.exports=t.p+\"static/media/whatsapplogo.3a8dad7f.png\"},60:function(e,a,t){e.exports=t(86)},65:function(e,a,t){},66:function(e,a,t){},81:function(e,a,t){},83:function(e,a,t){},84:function(e,a,t){},85:function(e,a,t){},86:function(e,a,t){\"use strict\";t.r(a);var n=t(0),c=t.n(n),r=t(24),l=t.n(r),o=(t(65),t(10)),s=t(100),i=t(98),m=t(49),u=t.n(m),d=t(50),p=t.n(d),h=t(35),E=t.n(h),f=t(36),v=t.n(f),b=(t(66),t(26)),g=t.n(b),_=g.a.initializeApp({apiKey:\"AIzaSyDGkizySGTPLroX3VHp3AtROMgTa9ZgQLE\",authDomain:\"whatsapp-clone-7e894.firebaseapp.com\",databaseURL:\"https://whatsapp-clone-7e894.firebaseio.com\",projectId:\"whatsapp-clone-7e894\",storageBucket:\"whatsapp-clone-7e894.appspot.com\",messagingSenderId:\"643972952893\",appId:\"1:643972952893:web:d745e132f44bf39f454b54\",measurementId:\"G-SRHC4RT10G\"}).firestore(),j=g.a.auth(),O=new g.a.auth.GoogleAuthProvider,N=_,S=t(27);var w=function(e){var a,t=e.id,r=e.name,l=e.addNewChat,i=Object(n.useState)(\"\"),m=Object(o.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)([]),h=Object(o.a)(p,2),E=h[0],f=h[1];return Object(n.useEffect)((function(){t&&N.collection(\"rooms\").doc(t).collection(\"messages\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){return f(e.docs.map((function(e){return e.data()})))}))}),[t]),Object(n.useEffect)((function(){d(Math.floor(5e3*Math.random()))}),[]),l?c.a.createElement(\"div\",{onClick:function(){var e=prompt(\"Please enter the name for chat\");e&&N.collection(\"rooms\").add({name:e})},className:\"sidebarChat\"},c.a.createElement(\"h2\",null,\"Add New Chat\")):c.a.createElement(S.b,{to:\"/rooms/\".concat(t)},c.a.createElement(\"div\",{className:\"sidebarChat\"},c.a.createElement(s.a,{src:\"https://avatars.dicebear.com/api/human/\".concat(u,\".svg\")}),c.a.createElement(\"div\",{className:\"sidebarChat__info\"},c.a.createElement(\"h2\",null,r),c.a.createElement(\"p\",null,null===(a=E[0])||void 0===a?void 0:a.message))))},y=Object(n.createContext)(),C=function(e){var a=e.reducer,t=e.initialState,r=e.children;return c.a.createElement(y.Provider,{value:Object(n.useReducer)(a,t)},r)},I=function(){return Object(n.useContext)(y)};t(81);var k=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],r=a[1],l=I(),m=Object(o.a)(l,2),d=m[0].user;return m[1],Object(n.useEffect)((function(){var e=N.collection(\"rooms\").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));return function(){e()}}),[]),c.a.createElement(\"div\",{className:\"sidebar\"},c.a.createElement(\"div\",{className:\"sidebar__header\"},c.a.createElement(s.a,{src:null===d||void 0===d?void 0:d.photoURL}),c.a.createElement(\"div\",{className:\"sidebar__headerRight\"},c.a.createElement(i.a,null,c.a.createElement(u.a,null)),c.a.createElement(i.a,null,c.a.createElement(p.a,null)),c.a.createElement(i.a,null,c.a.createElement(E.a,null)))),c.a.createElement(\"div\",{className:\"sidebar__search\"},c.a.createElement(\"div\",{className:\"sidebar__searchContainer\"},c.a.createElement(v.a,null),c.a.createElement(\"input\",{placeholder:\"Search or Start a new chat\",type:\"text\"}))),c.a.createElement(\"div\",{className:\"sidebar__chats\"},c.a.createElement(w,{addNewChat:!0}),t.map((function(e){return c.a.createElement(w,{key:e.id,id:e.id,name:e.data.name})}))))},x=(t(83),t(51)),R=t.n(x),T=t(52),D=t.n(T),M=t(53),G=t.n(M),A=t(4);var B=function(){var e,a,t=Object(n.useState)(\"\"),r=Object(o.a)(t,2),l=r[0],m=r[1],u=Object(n.useState)(\"\"),d=Object(o.a)(u,2),p=d[0],h=d[1],f=Object(A.f)().roomId,b=Object(n.useState)(\"\"),_=Object(o.a)(b,2),j=_[0],O=_[1],S=Object(n.useState)([]),w=Object(o.a)(S,2),y=w[0],C=w[1],k=I(),x=Object(o.a)(k,2),T=x[0].user;return x[1],Object(n.useEffect)((function(){O(Math.floor(5e3*Math.random()))}),[f]),Object(n.useEffect)((function(){f&&(N.collection(\"rooms\").doc(f).onSnapshot((function(e){return h(e.data().name)})),N.collection(\"rooms\").doc(f).collection(\"messages\").orderBy(\"timestamp\",\"asc\").onSnapshot((function(e){return C(e.docs.map((function(e){return e.data()})))})))}),[f]),c.a.createElement(\"div\",{className:\"chat\"},c.a.createElement(\"div\",{className:\"chat__header\"},c.a.createElement(s.a,{src:\"https://avatars.dicebear.com/api/human/\".concat(j,\".svg\")}),c.a.createElement(\"div\",{className:\"chat__headerInfo\"},c.a.createElement(\"h3\",null,p),c.a.createElement(\"p\",null,\"Last message at\",\" \",new Date(null===(e=y[y.length-1])||void 0===e||null===(a=e.timestamp)||void 0===a?void 0:a.toDate()).toUTCString())),c.a.createElement(\"div\",{className:\"chat_headerRight\"},c.a.createElement(i.a,null,c.a.createElement(v.a,null)),c.a.createElement(i.a,null,c.a.createElement(R.a,null)),c.a.createElement(i.a,null,c.a.createElement(E.a,null)))),c.a.createElement(\"div\",{className:\"chat__body\"},y.map((function(e){var a;return c.a.createElement(\"p\",{className:\"chat__message \".concat(e.name===T.displayName&&\"chat__reciever\")},c.a.createElement(\"span\",{className:\"chat__name\"},e.name),e.message,c.a.createElement(\"span\",{className:\"chat__timestamp\"},new Date(null===(a=e.timestamp)||void 0===a?void 0:a.toDate()).toUTCString()))}))),c.a.createElement(\"div\",{className:\"chat__footer\"},c.a.createElement(D.a,null),c.a.createElement(\"form\",null,c.a.createElement(\"input\",{onChange:function(e){return m(e.target.value)},placeholder:\"Type a message\",type:\"text\",value:l}),c.a.createElement(\"button\",{type:\"submit\",onClick:function(e){e.preventDefault(),N.collection(\"rooms\").doc(f).collection(\"messages\").add({message:l,name:T.displayName,timestamp:g.a.firestore.FieldValue.serverTimestamp()}),m(\"\")}},\"Sent Message\")),c.a.createElement(G.a,null)))},L=t(54),P=t(99),U=(t(84),t(40)),W=\"SET_USER\",z=function(e,a){switch(console.log(a),a.type){case W:return Object(U.a)(Object(U.a)({},e),{},{user:a.user});default:return e}},H=t(55),J=t.n(H);var V=function(){var e=I(),a=Object(o.a)(e,2);Object(L.a)(a[0]);var t=a[1];return c.a.createElement(\"div\",{className:\"login \"},c.a.createElement(\"div\",{className:\"login__container\"},c.a.createElement(\"img\",{src:J.a,alt:\"\",width:\"500px\",height:\"500px\"}),c.a.createElement(\"div\",{className:\"login__text\"},c.a.createElement(\"h1\",null,\"SignIn to Whatsapp\")),c.a.createElement(P.a,{onClick:function(){j.signInWithPopup(O).then((function(e){t({type:W,user:e.user})})).catch((function(e){return alert(e.message)}))}},\"SignIn with Google\")))};t(85);var F=function(){var e=I(),a=Object(o.a)(e,2),t=a[0].user;return a[1],c.a.createElement(\"div\",{className:\"app\"},t?c.a.createElement(\"div\",{className:\"app__body\"},c.a.createElement(S.a,null,c.a.createElement(k,null),c.a.createElement(A.c,null,c.a.createElement(A.a,{path:\"/rooms/:roomId\"},c.a.createElement(B,null))))):c.a.createElement(V,null))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,{initialState:{user:null},reducer:z},c.a.createElement(F,null))),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);","extractedComments":[]}